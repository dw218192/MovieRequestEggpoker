services:
  jackett:
    image: lscr.io/linuxserver/jackett:latest
    container_name: jackett
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Etc/UTC
      - AUTO_UPDATE=true #optional
      - RUN_OPTS=-x -p ${JACKETT_PORT} #optional
    volumes:
      - ${JACKETT_CONFIG_DIR}:/config
      - ${JACKETT_DOWNLOADS_DIR}:/downloads
    ports:
      - ${JACKETT_PORT}:${JACKETT_PORT}
    restart: unless-stopped

  movie-request-server:
    build:
      context: .
      dockerfile: Dockerfile
    image: mrserver
    container_name: movie-request-server
    ports:
      - "${MOVIE_REQUEST_SERVER_PORT}:${MOVIE_REQUEST_SERVER_PORT}"
    volumes:
      - ./_data:/app/_data
      - ./_logs:/app/_logs
      - /mnt/k:/mnt/k
      - /mnt/l:/mnt/l
      - /mnt/m:/mnt/m
      - /mnt/e:/mnt/e
    depends_on:
      - jackett
